<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>EXALAND</title>

	<!-- Disable automatic detection and formatting of possible phone numbers -->
	<meta name="format-detection" content="telephone=no">

	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<link href="assets/css/normalize.css" rel="stylesheet" type="text/css">
	<link href="assets/css/style2.css" rel="stylesheet" type="text/css">


</head>

<body class="system">


	<section class="screens" id="loading" style="background-color:#222">
		<div class="insideScreen">
			<!-- <img src="assets/frontend/logo-rogerwater.svg" alt="ROGER WATER, A JOURNEY INTO HYPERLAND" style="width:80vmin; max-width:15em; margin:0 auto;"> -->
			<img class="title" src="assets/frontend/logo-rogerwater.svg" alt="ROGER WATER, A JOURNEY INTO HYPERLAND" width="50%">
			<h1 id="loadingTag">LOADING</h1>
				<div style="position:relative;height:100px;">
					<div class="loadingbars" id="audioLoading"></div>
					<div class="loadingbars" id="texturesLoading"></div>
					<div class="loadingbars" id="modelsLoading"></div>
				</div>

				<button type="button" disabled name="startButton" id="startButton">START</button>
				<button type="button" name="preloadButton" id="preloadButton" style="display:none;">STARTPRELOAD</button>

				<div class="desktop" alt="ROGER WATER, DESKTOP CONTROLS"
				style="width:80vmin; height: 80vmin; max-width: 15em; max-height: 15em; margin: 1em auto 0; background: transparent url(assets/frontend/controls-desktop.svg) center center no-repeat; background-size: contain;">
			 </div>

			</div>
	</section>


	<section class="screens" id="paused">
	  <div class="insideScreen">
	    <img src="assets/frontend/logo-rogerwater.svg" alt="ROGER WATER, A JOURNEY INTO HYPERLAND" style="width:50%; margin:0 auto;">

	    <h2>JOURNEY PAUSED</h2>
			<a class="backhome desktop" href="javascript:window.history.back();">BACK HOME</a>
			<a class="desktop" href="javascript:HLRemote.updateStatus(-1);">RESUME</a>
	    <div class="clear"></div>
	    <div class="mobile mobileControlButton resume button" id="mP2">RESUME</div>

	    <div class="desktop" alt="ROGER WATER, DESKTOP CONTROLS"
	    style="width:80vmin; height: 80vmin; max-width: 15em; max-height: 15em; margin: 1em auto 0; background: transparent url(assets/frontend/controls-desktop.svg) center center no-repeat; background-size: contain;">
	   </div>

	  </div>
	</section>

	<section class="screens" id="ended">
	  <div class="insideScreen">
	    <img src="assets/frontend/logo-rogerwater.svg" alt="ROGER WATER, A JOURNEY INTO HYPERLAND" style="width:50%; margin:0 auto;">
	      <h1>THIS IS THE END.<br>NOW YOU CAN
	        <a href="#" onclick="AA.audioFile.currentTime=0; AA.filePlayPause(); HLRemote.updateStatus(10);">RESTART THE EXPERIENCE</a>
	        <span class="android desktop"><br>OR <a href="#" id="enableMicButton"
	          onclick="HLRemote.updateStatus(11);">ENABLE YOUR MIC</a>
	          FOR A ENDLESS TRIP</span>.
	      </h1>
	  </div>
	</section>

	<div class="" id="audioProgressBar"></div>


	<!--  THREE.JS -->
	<script src="lib/three.min.js"></script>

	<!-- UTILS  -->
	<script src="lib/NoSleep.min.js"></script>
	<script src="lib/NoScroll.js"></script>
	<script src="lib/ShadowMapViewer.js"></script>
	<script src="lib/UnpackDepthRGBAShader.js"></script>

	<!-- DAT GUI + helper -->
	<script src="lib/dev/dat.gui.min.js"></script>
	<script src="src/DEV_GUI.js"></script>
	<!-- AUDIO ANALYSIS -->
	<script src="lib/AudioAnalyzerMultiSource.js"></script>
	<!-- <script src="assets/audio/kicks.js"></script> -->

	<!-- THREE.JS EFFECTS AND CONTROLS-->
	<script src="lib/effects/webVR.js"></script>
	<script src="lib/effects/StereoEffect.js"></script>
	<script src="lib/effects/VREffect.js"></script>

	<script src="lib/controls/DeviceOrientationControls_roger.js"></script>
	<script src="lib/controls/FirstPersonControls_roger.js"></script>
	<script src="lib/controls/VRControls.js"></script>


	<!-- LOADERS -->
	<script src="lib/loaders/OBJLoader.js"></script>


	<!-- MATERIALS -->
	<script src="lib/materials/glslNoise25f.js"></script>
	<script src="lib/materials/water-custom-material.js"></script>
	<script src="lib/materials/land-custom-material.js"></script>
	<script src="lib/materials/sky-custom-material.js"></script>


	<!-- ROGER WATER x HYPERLAND SOURCE FILES -->

	<script src="src/main.js"></script>

	<script src="src/sceneParams.js"></script>
	<script src="src/environment.js"></script>
	<script src="src/animationHelpers.js"></script>
	<script src="src/animation.js"></script>
	<script src="src/remoteControl.js"></script>
	<script src="src/hud.js"></script>
	<script src="src/sceneManager.js"></script>


	<!-- socket.io -->
	<script src="lib/socket.io-1.4.5.js"></script>
	<script src="src/socketVisual.js"></script>



	<script type="text/javascript">
		/*
							HIDE UNNEEDED OPTIONS
						*/
		function getMobileOperatingSystem() {
			var userAgent = navigator.userAgent || navigator.vendor || window.opera;

			// Windows Phone must come first because its UA also contains "Android"
			if (/windows phone/i.test(userAgent)) {
				return "Windows Phone";
			}

			if (/android/i.test(userAgent)) {
				return "Android";
			}

			// iOS detection from: http://stackoverflow.com/a/9039885/177710
			if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
				return "iOS";
			}

			return "unknown";
		}

		var mobileOS = getMobileOperatingSystem();
		var isMobile = false;
		if (mobileOS.indexOf("unknown") == -1) {
			isMobile = true;
		}

		function display(selector, visible) {
			var elements = document.querySelectorAll(selector);
			for (var i = 0; i < elements.length; i++)
				elements[i].style.display = visible ? 'inherit' : 'none';
		}

		if(isCardboard){
			display('.desktop', false);
			display('.mobile', false);
			display('.cardboard', true);
		}
		else if(isMobile){
			display('.desktop', false);
			display('.mobile', true);
			display('.cardboard', false);
		}
		else{
			display('.desktop', true);
			display('.mobile', false);
			display('.cardboard', false);
		}

		if(mobileOS=='Android'){
			display('android', true);
		}


			// DISABLE SPACEBAR SCROLL
			window.addEventListener('keydown', function(e) {
				if(e.keyCode == 32 && e.target == document.body) {
					e.preventDefault();
				}
			});
	</script>


</body>

</html>
