function socketInterface(d){var c=io(d,{reconnectionDelay:1E3,reconnection:!0,reconnectionAttempts:10,transports:["websocket"],agent:!1,upgrade:!1,rejectUnauthorized:!1});assignRegister={};c.on("assign",function(a){console.log("assign received",a);for(var b in assignRegister)a[0]===b&&(assignRegister[b].parent[assignRegister[b].property]=a[1])});c.on("clientsCount",function(a){console.log("gotClientsCount: ",a)});c.on("stream",function(){});c.on("key",function(a){console.log("gotKey: ",a);for(var b=
0;b<keysRegister.length;b++)a==keysRegister[b].keyAlternative&&keysRegister.callbacks[0].func.call(keysRegister.callbacks[0].ctx,1)});console.log("socketInterface init",c);return{SOCKETIN:1,SOCKETOUT:2,socket:c,registerKey:function(a){},registerReceivedAssign:function(a){assignRegister[a.keyAlternative]=a;console.log("registered assign in assignRegister",assignRegister)},emit:function(a,b){c.emit(a,b)},emitAssign:function(a){c.emit("assign",[a.keyAlternative,a.parent[a.property],a.permanent])},emitResetAssign:function(a,
b){c.emit("assign",[a,b,!0])},emitReady:function(){c.emit("ready")}}};
